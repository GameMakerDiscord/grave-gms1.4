<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Initialize the damage object
creator = noone;
knockback = 5;
damage = 5;
hit_objects = ds_list_create();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Delete the list
ds_list_destroy(hit_objects);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Destroy the damage object
instance_destroy();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_enemy">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Do damamge
for (var i=0; i&lt;ds_list_size(hit_objects); i++) {
    if (other.id == hit_objects[| i]) exit;
}

// Make sure not to damamge the creating object
if (other.id == creator) exit;

// Get the enemy name
var enemy_name = object_get_name(other.object_index);

// Deal the damage
hit_target(other, other, a_hit, knockback/2);
if (other.state != other.death_state &amp;&amp; enemy_name == 'o_knight') {
    other.state = other.knockback_state;
}

// Show enemy health
if (other.hp &gt; 0) {
    other.alarm[SHOW_HEALTH_TIME] = room_speed*2;
}

// Create sparks if it isn't the crow
if (enemy_name != 'o_crow') {
    part_particles_create(o_game.ps, other.x, other.y, o_game.pt_spark, 10);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="o_skeleton">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Do damamge
// Make sure not to damage objects already hit
for (var i=0; i&lt;ds_list_size(hit_objects); i++) {
    if (other.id == hit_objects[| i]) exit;
}

// Make sure not to damamge the creating object
if (other.id == creator) exit;

// Deal damage and knockback
hit_target(other, o_skeleton_stats, a_medium_hit, knockback);
other.image_xscale = sign(other.hspd)*-1;
other.state = other.knockback_state;

// Check for Skeleton death
if (o_skeleton_stats.hp &lt;= 0) {
    with (other) instance_destroy();
    for (var i=0; i&lt;sprite_get_number(s_skeleton_bones); i++) {
        var bone = instance_create(other.x+random_range(-8, 8), other.y+random_range(-24, 8), o_skeleton_bone);
        bone.direction = 90-(image_xscale*random_range(30, 60));
        bone.speed = random_range(3, 10);
        bone.image_speed = 0;
        bone.image_index = i;
        if (i == 5) bone.image_angle = 130;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
